<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FC Auction Lobby</title>

    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body style="background: linear-gradient(135deg, #0f2027, #203a43, #2c5364); min-height: 100vh;">

<div class="container d-flex justify-content-center align-items-center" style="min-height: 100vh;">
    <div class="card shadow-lg p-4" style="width: 420px; border-radius: 15px;">

        <h2 class="text-center mb-4">âš½ FC Auction Lobby</h2>

        <!-- Create Lobby -->
        <div class="mb-4">
            <h5 class="text-center">Create Lobby (Host)</h5>
            <form method="POST" action="/create-lobby">
                <input type="text"
                       name="lobby_name"
                       class="form-control mb-3"
                       placeholder="Lobby Name"
                       required>

                <button class="btn btn-primary w-100">
                    Create Lobby
                </button>
            </form>
        </div>

        <hr>

        <!-- Join Lobby -->
        <div>
            <h5 class="text-center">Join Lobby</h5>
            <form method="POST" action="/join-lobby">
                <input type="text"
                       name="lobby_code"
                       class="form-control mb-3 text-uppercase"
                       placeholder="Enter Lobby Code"
                       required>

                <button class="btn btn-success w-100">
                    Join Lobby
                </button>
            </form>
        </div>

    </div>
</div>

{% if is_admin %}
<div class="card p-3 mt-4">
    <h5>Upload Player JSON</h5>

    <form method="POST" action="/upload-json/{{ lobby_code }}" enctype="multipart/form-data">
        <input type="file" name="player_json" class="form-control mb-2" accept=".json" required>

        <button class="btn btn-primary w-100">
            Upload & Load Players
        </button>
    </form>

    <small class="text-muted">
        Upload JSON file with predefined player format.
    </small>
</div>
{% endif %}
<script>
socket.on("kicked", data => {
    if (data.username === "{{ username }}") {
        alert("You were removed by admin");
        window.location.href = "/";
    }
});
</script>

</body>
</html>
